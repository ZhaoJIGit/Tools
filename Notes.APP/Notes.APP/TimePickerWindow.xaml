<Window
    x:Class="Notes.APP.TimePickerWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:local="clr-namespace:Notes.APP"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="设置提醒时间"
    Width="300"
    Height="150"
    AllowsTransparency="True"
    Background="Transparent"
    Loaded="Window_Loaded"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None">
    <Grid>
        <Border
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            BorderBrush="Transparent"
            BorderThickness="1">
            <!--  添加阴影效果  -->
            <Border.Effect>
                <DropShadowEffect
                    BlurRadius="10"
                    Direction="0"
                    Opacity="0.5"
                    ShadowDepth="0"
                    Color="Black" />
            </Border.Effect>
            <Grid
                Margin="3"
                MouseEnter="Grid_MouseEnter"
                MouseLeave="Grid_MouseLeave">
                <Grid.RowDefinitions>
                    <RowDefinition Height="40" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <!--  自定义标题栏  -->
                <Border
                    x:Name="borderTitle"
                    Grid.Row="0"
                    VerticalAlignment="Top"
                    Background="{Binding BackGroundColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    BorderBrush="#bfc1be"
                    BorderThickness="0,0,0,1"
                    MouseLeftButtonDown="OnMouseLeftButtonDown"
                    MouseMove="Window_MouseMove">
                    <Border.CornerRadius>
                        <CornerRadius
                            BottomLeft="0"
                            BottomRight="0"
                            TopLeft="15"
                            TopRight="15" />
                    </Border.CornerRadius>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            x:Name="txtTitle"
                            Grid.Column="0"
                            Margin="10"
                            VerticalAlignment="Center"
                            FontFamily="FangSong"
                            FontSize="16"
                            FontWeight="Bold"
                            Foreground="{Binding Color, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Text="设置提醒时间" />
                        <!--  右侧按钮  -->
                        <StackPanel
                            Grid.Column="2"
                            Margin="0,0,10,0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <UniformGrid Height="30" Rows="1">

                                <!--  关闭按钮  -->
                                <Button
                                    Name="btnClose"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Click="CloseButton_Click"
                                    Content="&#xE8BB;"
                                    FontFamily="Segoe MDL2 Assets"
                                    Foreground="{Binding Color, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            </UniformGrid>

                        </StackPanel>
                    </Grid>
                </Border>

                <!--  主内容  -->
                <Border
                    x:Name="pageBorder"
                    Grid.Row="1"
                    Background="{Binding BackGroundColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                    <Border.CornerRadius>
                        <CornerRadius
                            BottomLeft="15"
                            BottomRight="15"
                            TopLeft="0"
                            TopRight="0" />
                    </Border.CornerRadius>
                    <Grid>
                        <Border>
                            <Grid
                                Grid.Row="1"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center">
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <StackPanel
                                    Grid.Row="0"
                                    Margin="0,0,0,10"
                                    VerticalAlignment="Center"
                                    Orientation="Horizontal">
                                    <!--  年月日  -->
                                    <DatePicker
                                        x:Name="datePicker"
                                        Width="120"
                                        Margin="0,0,10,0"
                                        Background="Transparent"
                                        Foreground="{Binding Color, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />


                                    <!--<local:TimePickerUserControl
                                        ControlHeight="50"
                                        ControlWidth="180"
                                        ItemBackground="Beige"
                                        ItemForeground="DarkGreen"
                                        SelectedTime="10:45" />-->
                                    <hc:TimePicker
                                        x:Name="timePicker"
                                        Width="100"
                                        Background="Transparent"
                                        Foreground="{Binding Color, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        TimeFormat="HH:mm" />

                                </StackPanel>

                                <Button
                                    Grid.Row="1"
                                    HorizontalAlignment="Right"
                                    Background="Transparent"
                                    Click="Confirm_Click"
                                    Content="确定"
                                    Foreground="{Binding Color, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                <Button
                                    Grid.Row="1"
                                    HorizontalAlignment="Left"
                                    Background="Transparent"
                                    Click="Cancel_Click"
                                    Content="取消"
                                    Foreground="{Binding Color, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            </Grid>
                        </Border>
                    </Grid>

                </Border>

            </Grid>
        </Border>

    </Grid>

</Window>
